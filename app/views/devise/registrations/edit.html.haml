.container.signin

  = form_for resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, class: 'form-signin' } do |f|
    = devise_error_messages!

    %h3{ :class => 'form-signin-heading' }Your Account Settings

    = image_tag resource.avatar_url(:thumb).to_s
    = f.file_field :avatar

    = f.text_field :name, autofocus: true, placeholder: :name, :class => 'form-control'
    = f.email_field :email, placeholder: :email, :class => 'form-control'
    = f.text_field :place, placeholder: :place, :class => 'form-control'

    %h3{ :class => 'form-signin-heading' }Password settings
    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      %div= "Currently waiting confirmation for: #{resource.unconfirmed_email}"
    = f.password_field :password, autocomplete: 'off', placeholder: :password, :class => 'form-control'
    = f.password_field :password_confirmation, autocomplete: 'off', placeholder: :password_confirmation, :class => 'form-control'
    = f.password_field :current_password, autocomplete: 'off', placeholder: :current_password, :class => 'form-control'
    %p
    = f.submit 'Update', class: 'btn btn-lg btn-primary btn-block'

  %div{ :class => 'form-signin' }
    %h3{ :class => 'form-signin-heading' }Cancel my account
    = button_to 'Cancel my account', registration_path(resource_name), data: { confirm: 'Are you sure?' }, method: :delete, class: 'btn btn-lg btn-primary btn-block'
    %p
    = link_to 'Back', :back, class: 'btn btn-lg btn-primary btn-block'
